<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tennis Match</title>
  <meta name="theme-color" content="#0f0f0f" />
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" type="image/png" />
</head>
<body>

<!-- Splash screen -->
<div id="animatedSplash">
  <div class="ball"></div>
  <div class="splash-title">
    <span>T</span><span>E</span><span>N</span><span>N</span><span>I</span><span>S</span>
    <span>M</span><span>A</span><span>T</span><span>C</span><span>H</span>
  </div>
</div>

<!-- Barre de navigation -->
<nav>
  <button onclick="showScreen('home')">ğŸ  Accueil</button>
  <button onclick="showScreen('newmatch')">ğŸ¾ Nouveau Match</button>
  <button onclick="showScreen('match')">ğŸ® Match</button>
  <button onclick="showScreen('stats')">ğŸ“Š Stats</button>
  <button onclick="showScreen('history')">ğŸ§¾ Historique</button>
  <button onclick="showScreen('profile')">ğŸ‘¤ Profils</button>
  <button onclick="showScreen('videos')">ğŸ“¹ VidÃ©os</button>
</nav>

<!-- ACCUEIL -->
<section id="home" class="screen">
  <h1>ğŸ  Accueil</h1>
  <div id="liveMatchInfo"></div>
  <div id="lastMatchResult"></div>
  <div id="quickStats"></div>
</section>

<!-- NOUVEAU MATCH -->
<section id="newmatch" class="screen hidden">
  <h2>Nouveau match</h2>
  <label>Joueur 1 : <select id="profile1Select"></select></label><br/>
  <label>Joueur 2 : <select id="profile2Select"></select></label><br/>
  <label>Nombre de sets : 
    <select id="numSets"><option>2</option><option>3</option></select>
  </label><br/>
  <label>Jeux par set :
    <select id="gamesPerSet"><option>2</option><option>3</option><option>6</option></select>
  </label><br/>
  <label>Avantage : 
    <select id="advantage"><option value="true">Oui</option><option value="false">Non</option></select>
  </label><br/>
  <label>Type de match : 
    <select id="matchType"><option value="simple">Simple</option><option value="double">Double</option></select>
  </label><br/>
  <label>DurÃ©e pause (sec) : <input type="number" id="pauseDuration" value="90"/></label><br/>
  <button onclick="startMatch()">âœ… DÃ©marrer</button>
</section>

<!-- MATCH -->
<section id="match" class="screen hidden">
  <h2 id="matchTitle"></h2>
  <div id="matchTimer"></div>
  <div id="fullScoreboard">
    <div>
      <h3 id="p1Name"></h3>
      <span id="p1Surface"></span>
      <div>Sets : <span id="p1Sets">0</span></div>
      <div>Jeux : <span id="p1Games">0</span></div>
      <div>Points : <span id="scoreP1">0</span> <span id="serveP1"></span></div>
    </div>
    <div>
      <h3 id="p2Name"></h3>
      <span id="p2Surface"></span>
      <div>Sets : <span id="p2Sets">0</span></div>
      <div>Jeux : <span id="p2Games">0</span></div>
      <div>Points : <span id="scoreP2">0</span> <span id="serveP2"></span></div>
    </div>
  </div>
  <div>
    <button onclick="point(1)">+1 Joueur 1</button>
    <button onclick="point(2)">+1 Joueur 2</button>
    <button onclick="togglePause()">â¸ï¸ Pause</button>
    <button onclick="endMatch()">âŒ Quitter</button>
  </div>
  <div id="pauseTimer" class="hidden"></div>
  <audio id="bipSound" src="sound/bip.mp3"></audio>
</section>

<!-- STATS -->
<section id="stats" class="screen hidden">
  <h2>ğŸ“Š Statistiques</h2>
  <div id="statsContent">Chargementâ€¦</div>
</section>

<!-- HISTORIQUE -->
<section id="history" class="screen hidden">
  <h2>ğŸ§¾ Historique</h2>
  <ul id="historyList"></ul>
</section>

<!-- PROFILS -->
<section id="profile" class="screen hidden">
  <h2>ğŸ‘¤ Profils</h2>
  <label>Nom : <input type="text" id="newProfileName"/></label><br/>
  <label>Pays : <input type="text" id="newProfileCountry" placeholder="FR"/></label><br/>
  <label>Surface prÃ©fÃ©rÃ©e : 
    <select id="newProfileSurface">
      <option value="Dur">Dur</option>
      <option value="Gazon">Gazon</option>
      <option value="Terre battue">Terre battue</option>
    </select>
  </label><br/>
  <button onclick="createProfile()">CrÃ©er / Mettre Ã  jour</button>
  <ul id="profileList"></ul>
</section>

<!-- ONGLET VIDÃ‰OS -->
<section id="videos" class="screen hidden">
  <h2>ğŸ“¹ VidÃ©os des utilisateurs</h2>
  <input type="url" id="videoUrl" placeholder="Colle un lien YouTube / TikTok" />
  <button onclick="addVideo()">ğŸ“¤ Ajouter</button>
  <div id="videoList"></div>
</section>

<!-- POPUP VICTOIRE -->
<div id="winnerPopup">ğŸ† Victoire !</div>

<!-- SCRIPTS -->
<script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js').then(() => {
      console.log("âœ… PWA prÃªte");
    });
  }

  window.addEventListener("load", () => {
    const splash = document.getElementById("animatedSplash");
    setTimeout(() => {
      splash.style.display = "none";
    }, 4000);
  });
</script>
</body>
</html>
